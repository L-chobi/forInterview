## HTTP
- Hypertext Transfer Protocol의 약자로 인터넷상에서 데이터를 주고받기 위한 프로토콜.
- 브라우저는 HTTP 통신을 통해서 데이터를 가져오고 이를 해석해 화면에 출력.
- TCP/IP 계층 순서로 네트워크에 접근하게 되며, HTTP 프로토콜은 4계층에 속함.
- 4계층에서 정보를 만들어 전달하면 3계층에서 통신 노드를 연결하고, 2계층에서 통신 노드간 패킷을 전송과 라우팅을 하며, 1계층에서는 전기적 신호로 변환하여 실제로 전달.
- 받는 쪽에서는 이를 반대로 진행.
<br/>

- 모든 컴퓨터와 서버는 네트워크를 통해 외부에서 접근하려면 IP 주소가 필요. 그러나 사용자는 브라우저를 이용해 문자 URL을 전달하는데, 이는 DNS 서버가 해당 도메인 네임에 맞는 IP를 받아오기 때문임. 
- 위와 같은 과정을 이름 해결이라 부르며, UDP 통신을 함.

## 브라우저가 서버에게서 데이터를 받는 과정
- 브라우저는 서버에게 웹사이트 문서를 받아오기 위해 클라이언트에서 Request 요청을 만들어 서버에게 전달.
- 서버는 클라이언트의 Request를 해석하고, 이에 맞는 Response를 전달.
- 클라이언트에서는 서버에서 전달받은 Response를 이용해 화면에 표현.
- 이 Request와 Response는 크게 Header와 Body로 구성되며, Header는 서버가 인식할 수 있는 약속된 형식을 따라야함.

## 트랜잭션
- 요청을 주고받는 과정을 일련의 트랜잭션이라고함.

### 예시(구글에 접속할 때 구글 이미지가 보이는 과정)
- www.google.com에 접속하면 index.html을 받아옴. 여기에 https://www.google.com/images/google.png 가 들어있는데, 웹 브라우저는 html 파일을 읽어서 해석하는데 이미지 주소가 나오면 해당 url로 서버에 요청을 보냄
- 이런 요청을 주고 받는 과정을 트랜잭션이라고하는데, 여기서는 요청을 보내고, 응답을 받는 HTTP 통신을 이용하므로 HTTP 트랜잭션이라고 부름.

### 예시 트랜잭션 상세
- 웹 브라우저가 이미지 주소로 이미지를 요청해야 한다는 것을 인지
- 웹 브라우저는 url을 이용해 서버의 ip를 추출
- 이미지를 요청하기 위한 HTTP 메시지를 만듦
- 메시지는 GET이고, /google.png를 요청하는 메시지
- 웹 브라우저는 서버와 TCP 커넥션을 맺음(TCP 3-Way handshaking)
- 웹 브라우저는 서버에 HTTP 요청을 보냄
- 서버는 해당 메시지를 받고 내용을 해석. GET이라는 메소드이며 /google.png 파일을 요청했다는 것을 인지
- 서버는 해당 리소스가 있는지 찾음
- 찾을 시 상태 코드 200인 메시지와 함께 응답 메시지 작성
- 서버는 클라이언트에 HTTP 응답을 보냄
- 서버는 클라이언트와 TCP 4-Way handshaking 방식으로 커넥션을 종료
- 커넥션이 닫히면 웹 브라우저는 사용자에게 이미지를 보여줌

## HTTP/2
- 2012년 10월 부터 시작한 새로운 HTTP 프로토콜
- 완전히 새로운 프로토콜이 아닌, 기존 HTTP 프로토콜의 성능 향상에 초점을 맞춤

### Multiplexed Streams
- 한 커넥션으로 동시에 여러개의 메시지를 주고받을 수 있으며 응답은 순서에 상관없이 stream으로 주고 받음.

### Stream Priorization
- css와 img 파일을 요청했을 때 css 파일이 img 파일보다 늦게 도착하는 경우 렌더링이 늦어지는데, HTTP/2의 경우 리소스간 의존관계(우선순위)를 설정하여 이를 해결.

### Server push
- 기존에는 클라이언트가 요청해야 서버에서 리소스를 보내줬지만, HTTP/2에서는 클라이언트의 요청에 대해 요청하지도 않은 리소스까지 보내줄 수 있도록 개선
- HTML/1.1에서 클라이언트는 HTML문서를 수신 후 이를 해석하며 필요한 리소스(js, css, img...)를 서버에 재요청한다면, HTTP/2에서는 Server push로 클라이언트가 요청하지 않은(html에 필요한 js, css, ...) 리소스를 push해주는 방법으로 클라이언트의 요청을 최소화해서 성능 향상을 이끌어냄
- 이를 PUSH_PROMISE라고 부르며, PUSH_PROMISE를 통해 서버가 전송한 리소스에 대해서는 클라이언트는 요청을 하지 않음

### Header Compression
- HTTP/2는 Header 정보를 압축하기 위해 Header Table과 Huffman Encoding 기법을 사용하여 처리.
- 이를 HPACK 압축 방식이라 부름.
- 예를 들어 클라이언트가 두 번의 요청을 보낸다고 가정하면 기존 HTTP의 경우 두 개의 Header에 중복값이 존재해도 그냥 중복 전송함.
- HTTP/2에선 중복값이 존재하는 경우 Static/Dynamic Header Table 개념을 사용하여 중복 Header를 검출하고 중복된 Header는 index값만, 중복되지 않은 정보의 값은 Huffman Encoding 기법으로 인코딩처리하여 전송.

